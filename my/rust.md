# Խառը գրառումներ Rust-ի մասին

Ժամանակ առ ժամանակ փորձում եմ ծանոթանալ արդեն մոդայիկ [Rust](https://www.rust-lang.org) ծրագրավորման լեզվին։ Այս էջում պարբերաբար կգրեմ իմ փորձերի մասին։

## Առաջին ծրագիրը

Լեզվի իրականացումը տեղադրելուց հետո, բնականաբար, փորձեցի գրել ավանդական _hello, world_-ը։ Բայց քանի որ ինձ միշտ հետաքրքրում է, թե այս կամ այն ծրագրավորման լեզվում ինչպես են օգտագործվում _հայերեն_ տեքստերը (UTF-8 տեսքտերն ընդհանրապես), իմ ծրագիրը ստացավ հետևյալ տեսքը.

```Rust
fn main() {
    println!("Ճանաչել զիմաստութիւն եւ զխրատ, իմանալ զբանս հանճարոյ...")
}
```

Cargo-ով ստեղծեցի նոր պրոյեկտ. `cargo init hello-hy`, ու դրա `main.rs` ֆայլում գրեցի այս ծրագիրը։ Հետո աշխատեցրեցի `cargo run` հրամանով. սա նախ կոմպիլյացնում է գրած ծրագիրն ու ստեղծում է կատորվող մոդուլ, ապա կատարում է այն։ Իմ դեպքում ստացա այսպիսի արդյունք.

```
Ճանաչել զիմաստութիւն եւ զխրատ, իմանալ զբանս հանճարոյ...
```

Առայժմ ամեն ինչ ինձ գոհացնում է։


## Թվի արտահայտումը բառերով

Նոր ծրագրավորման լեզու սովորելիս ընտրում եմ խնդիրներ, որոնց ալգորիթմական լուծումն արդեն ունեմ ու փործում եմ այդ խնդիրը ծրագրավորել արդեն այլ լեզվով։ Այս դեպքում էլ վերցրել եմ _ամբողջ թվերը բառերով արտահայտելու_ հայտնի խնդիրը և ուզում եմ այն գրել Ռասթ լեզվով։ Հիշեցնեմ՝ պետք է իրականացնել ֆունկցիա, որը ստանում է թվի թվային տեսքը և վերադարձնում է դրա տեքստային արտահայտությունը։ Օրինակ, `219` թվից պետք է ստանալ «`երկու հարյուր տասնինը`» տեքստը։

Պարզության համար դիտարկենք մինչև վեցանիշ թվերը։ Ուսումնասիրելով թվերի տեքստային ներկայացումները կարելի է տեսնել, որ դրանք կազմված են _միավորների_ ու _տասնավորների_ անունների միակցումից, ինչպես նաև դրանց՝ «հարյուր» ու «հազար» բառերով շաղկապումներից։ Օրինակ, `528719` թվի տեքստային արտահայտությունը բաղկացած է `հազար` բառով իրար կապված երկու «միանման» արտահայտություններից. `հինգ հարյուր քսանութ` և `յոթ հարյուր տասնինը`։ Սրանցից ամեն մեկն էլ իր հերթին կազմված է `հարյուր` բառով իրար կապված միանիշ թվի անունից ու երկնիշ թվի արտահայտությունից։ Իսկ երկնիշ թվի արտահայտությունն էլ տաստանվորի ու միավորի անունների պարզ միակցում է։ արդեն պարզ է, չէ՞, որ կառուցելու եմ ռեկուրսիվ ֆունկցիա։ 

Իմ `number_in_words` ֆունկցիայի առաջին տարբերակն այսպիսինն էր։ 

```Rust
fn number_in_words(number: u32) -> String {
    if number < 10 {
        return ["", "մեկ", "երկու", "երեք", "չորս", "հինգ", "վեց", "յոթ", "ութ", "ինն"][number as usize].to_string()
    }

    if number < 100 {
        let t = ["", "տաս", "քսան", "երեսուն", "քառասուն", "հիսուն", "վաթսուն", "յոթանասուն", "ութսուն", "իննսուն"][(number / 10) as usize].to_string()
        return [t, number_in_words(number % 10)].concatenate()
    }

    if number < 1000 {
        let h = number_in_words(number / 100)
        let t = number_in_words(number % 100)
        return [h, t].join(" հարյուր ")
    }

    let h = number_in_words(number / 1000)
    let t = number_in_words(number % 1000)
    return [h, t].join(" հազար ")
}
```

Պատկերացնում եմ, թե որքան ծիծաղելի կերևա այն փորձառու Ռասթ-ծրագրավորողների աչքին։ Եթե անկեղծ լինեմ՝ ինձ էլ այն շատ ծիծաղելի թվաց. պարզ է, որ սա Ռասթ կոդ չէ։ 


